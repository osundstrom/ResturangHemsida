{"mappings":"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","sources":["src/main.js"],"sourcesContent":["\r\n//let url = \"http://localhost:3000/api\"\r\n\r\nlet url = \"https://projektdt207-1.onrender.com/api\";\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (e) { //När sidan laddats in körs\r\n    console.log(\"DOM\");\r\n    e.preventDefault();\r\n    getAll();//körs getAll\r\n    getReview();\r\n});\r\n\r\n\r\nasync function getAll() { //funktion getAll\r\n\r\n    try {\r\n\r\n            const response = await fetch(url + \"/meny\", {//fetcha url/secret\r\n\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n\r\n           \r\n\r\n            let matDiv = document.getElementById(\"matDiv\");\r\n            let dryckDiv = document.getElementById(\"dryckDiv\");\r\n            \r\n           let data = await response.json();\r\n            matDiv.innerHTML = \"\";\r\n            dryckDiv.innerHTML = \"\";\r\n\r\n            console.log(\"IF2\")\r\n\r\n            \r\n            \r\n            \r\n\r\n            data.forEach(item => {\r\n                console.log(\"loop\")\r\n                const ItemDiv = document.createElement(\"ul\");\r\n                \r\n                \r\n                const typeLi = document.createElement(\"li\");\r\n                typeLi.textContent = item.type;      \r\n\r\n                const priceLi = document.createElement(\"li\");\r\n                priceLi.textContent =  \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\" + \"-\" + \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\" + item.price + \":-\";\r\n                priceLi.style.display = \"inline-block\";\r\n                priceLi.style.color = \"orange\";\r\n                priceLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\";\r\n\r\n                const nameLi = document.createElement(\"li\");\r\n                nameLi.textContent = item.name ;\r\n                nameLi.style.fontWeight = \"900\";\r\n                //nameLi.style.textDecoration = \"underline\";\r\n                nameLi.style.color = \"orange\";\r\n                nameLi.style.display = \"inline-block\";\r\n                nameLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\";\r\n\r\n                \r\n\r\n                const descriptionLi = document.createElement(\"li\");\r\n                descriptionLi.textContent =  item.description;\r\n                descriptionLi.style.color = \"white\";\r\n                descriptionLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\";\r\n\r\n                ItemDiv.appendChild(nameLi);\r\n                ItemDiv.appendChild(priceLi);\r\n                ItemDiv.appendChild(descriptionLi);\r\n\r\n\r\n                if (item.type === \"Mat\") {\r\n                    matDiv.appendChild(ItemDiv);\r\n                } else {\r\n                    dryckDiv.appendChild(ItemDiv);\r\n                }\r\n\r\n                \r\n                \r\n         });\r\n        }catch (error) { //vid error\r\n        console.error(error);\r\n     }\r\n }\r\nconst bookingButton = document.getElementById(\"resButton\");\r\nconst divMessage = document.getElementById(\"divMessage\");\r\nbookingButton.addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    saveBooking();\r\n})\r\n\r\nasync function saveBooking() {\r\n    \r\n    let emailInput = document.getElementById(\"emailID\");\r\n    let phoneInput = document.getElementById(\"phoneID\");\r\n    let firstNameInput = document.getElementById(\"firstNameID\");\r\n    let lastNameInput = document.getElementById(\"lastNameID\");\r\n    let tableInput = document.getElementById(\"tableID\");\r\n    let bookDateInput = document.getElementById(\"bookDateID\");\r\n\r\n\r\n    let emailData = emailInput.value;  \r\n    let phoneData = phoneInput.value;  \r\n    let firstNameData = firstNameInput.value;  \r\n    let lastNameData = lastNameInput.value;  \r\n    let tableData = tableInput.value;\r\n    let bookDateData = new Date(bookDateInput.value);\r\n\r\n    bookDateData.toLocaleString(\"sv-SE\", { timeZone: \"Europe/Stockholm\" });\r\n\r\n\r\n    const bookingData = {\r\n        email: emailData,\r\n        phone: phoneData,\r\n        firstName: firstNameData,\r\n        lastName: lastNameData,\r\n        numberGuests: tableData,\r\n        bookDate: bookDateData \r\n    };\r\n\r\n    try {\r\n        const respone = await fetch(url + \"/booking\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n\r\n            body: JSON.stringify(bookingData)\r\n        })\r\n\r\n        if(respone.ok) {\r\n            divMessage.textContent = \"Tack för din bokning\";\r\n            divMessage.style.display =\"block\";\r\n\r\n            emailInput.value = \"\";\r\n            phoneInput.value = \"\";\r\n            firstNameInput.value = \"\";\r\n            lastNameInput.value = \"\";\r\n            tableInput.value = \"\";\r\n            bookDateInput.value = \"\";\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error( error);\r\n    }\r\n}\r\n\r\n\r\n\r\nconst sendButton = document.getElementById(\"sendButton\");\r\nconst divMessage2 = document.getElementById(\"divMessage2\");\r\n\r\nsendButton.addEventListener(\"click\", function(e) {\r\n    e.preventDefault();\r\n    saveReview();\r\n})\r\n\r\nasync function saveReview() {\r\n    \r\n    let nameInput = document.getElementById(\"fullNameID\");\r\n    let messageInput = document.getElementById(\"messageID\");\r\n    \r\n\r\n    let nameData = nameInput.value;    \r\n    let messageData = messageInput.value;  \r\n\r\n    let ratingInput = document.getElementsByClassName(\"ratingClass\");\r\n\r\n    let ratingData;\r\n    for (const ratings of ratingInput) {\r\n        if (ratings.checked) {\r\n            ratingData = ratings.value;\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n    if (!nameData || !ratingData || !messageData) {\r\n        divMessage2.textContent = \"Alla fält måste fyllas i!\";\r\n        divMessage2.style.display = \"block\";\r\n        divMessage2.style.color = \"orange\";\r\n        return;\r\n    }\r\n\r\n\r\n    const reviewData = {\r\n        name: nameData,\r\n        rating: ratingData,\r\n        message: messageData\r\n    };\r\n\r\n    try {\r\n        const respone = await fetch(url + \"/review\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n\r\n            body: JSON.stringify(reviewData)\r\n        })\r\n\r\n        if(respone.ok) {\r\n            divMessage2.textContent = \"Tack för din recension\";\r\n            divMessage2.style.display =\"block\";\r\n\r\n            nameInput.value = \"\";\r\n            messageInput.value = \"\";\r\n\r\n            for (const rating of ratingInput) {\r\n                rating.checked = false;\r\n            }\r\n\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error( error);\r\n    }\r\n\r\n    getReview()\r\n}\r\n\r\nasync function getReview() {\r\n    \r\n    console.log(\"getReview\")\r\n        try {\r\n\r\n            const response = await fetch(url + \"/review\", {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            });\r\n\r\n            const data = await response.json();\r\n            const reviewsDiv = document.getElementById(\"reviewsDiv\");\r\n\r\n            reviewsDiv.innerHTML = \"\";\r\n\r\n            const last2Reviews = data.slice(-2).reverse();\r\n\r\n            last2Reviews.forEach(review => {\r\n                \r\n                const reviewUl = document.createElement(\"ul\");\r\n                \r\n                const nameLi = document.createElement(\"li\");\r\n                nameLi.textContent =  review.name;\r\n                nameLi.style.color = \"orange\";  \r\n\r\n                const ratingLi = document.createElement(\"li\");\r\n                ratingLi.textContent =  \"Betyg: \" + review.rating +\"/5\";\r\n                ratingLi.style.color = \"yellow\";  \r\n\r\n                const messageLi = document.createElement(\"li\");\r\n                messageLi.textContent =  review.message;\r\n                \r\n\r\n\r\n                reviewUl.appendChild(nameLi);\r\n                reviewUl.appendChild(ratingLi);\r\n                reviewUl.appendChild(messageLi);\r\n                \r\n                reviewsDiv.appendChild(reviewUl);\r\n            }\r\n        )\r\n            \r\n            \r\n            \r\n        } catch (error) {\r\n            console.error(error);\r\n        } \r\n     \r\n}\r\n"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}