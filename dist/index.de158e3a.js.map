{"mappings":"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","sources":["src/main.js"],"sourcesContent":["\r\n//let url = \"http://localhost:3000/api\"\r\n\r\nlet url = \"https://projektdt207-1.onrender.com/api\"; //sätter  url\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (e) { //När sidan laddats in körs\r\n    console.log(\"DOM\");\r\n    e.preventDefault(); //hindrar default\r\n    getAll();//körs getAll\r\n    getReview(); //kör\r\n});\r\n\r\n\r\nasync function getAll() { //funktion getAll\r\n\r\n    try {\r\n\r\n            const response = await fetch(url + \"/meny\", {//fetcha url/secret\r\n\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            })\r\n\r\n           \r\n\r\n            let matDiv = document.getElementById(\"matDiv\"); //hämtar element\r\n            let dryckDiv = document.getElementById(\"dryckDiv\"); //hämtar element\r\n            \r\n           let data = await response.json(); //sätter data\r\n            matDiv.innerHTML = \"\"; //rensar\r\n            dryckDiv.innerHTML = \"\"; //rensar\r\n\r\n            //console.log(\"IF2\")\r\n\r\n            \r\n            \r\n            \r\n\r\n            data.forEach(item => { //en forEatch loop för varje item i datan. \r\n                console.log(\"loop\")\r\n                const ItemDiv = document.createElement(\"ul\"); //skapar UL\r\n                \r\n                \r\n                const typeLi = document.createElement(\"li\"); //skapar LI och sätter innehåll\r\n                typeLi.textContent = item.type;      \r\n\r\n                const priceLi = document.createElement(\"li\"); //skapar LI och sätter innehåll\r\n                priceLi.textContent =  \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\" + \"-\" + \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\" + item.price + \":-\"; //u00A0 ger mellanrum, funkade ej med bara +\"\"+\"\" osv.\r\n                priceLi.style.display = \"inline-block\"; //lite styles\r\n                priceLi.style.color = \"orange\"; //lite styles\r\n                priceLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\"; //lite styles\r\n\r\n                const nameLi = document.createElement(\"li\"); //skapar LI och sätter innehåll\r\n                nameLi.textContent = item.name ;\r\n                nameLi.style.fontWeight = \"900\"; //lite styles\r\n                //nameLi.style.textDecoration = \"underline\";\r\n                nameLi.style.color = \"orange\"; //lite styles\r\n                nameLi.style.display = \"inline-block\"; //lite styles\r\n                nameLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\"; //lite styles\r\n\r\n                \r\n\r\n                const descriptionLi = document.createElement(\"li\"); //skapar LI och sätter innehåll\r\n                descriptionLi.textContent =  item.description;\r\n                descriptionLi.style.color = \"white\"; //lite styles\r\n                descriptionLi.style.textShadow= \"-1px -1px 0 #000, 1px -1px 0 #000, -1px  1px 0 #000, 1px  1px 0 #000\"; //lite styles\r\n\r\n                //lägger till i itemDiv\r\n                ItemDiv.appendChild(nameLi);\r\n                ItemDiv.appendChild(priceLi);\r\n                ItemDiv.appendChild(descriptionLi);\r\n\r\n                \r\n                //om de är valt Mat eller annat så läggs de till i olika\r\n                if (item.type === \"Mat\") {\r\n                    matDiv.appendChild(ItemDiv);\r\n                } else {\r\n                    dryckDiv.appendChild(ItemDiv);\r\n                }\r\n\r\n                \r\n                \r\n         });\r\n        }catch (error) { //vid error\r\n        console.error(error);\r\n     }\r\n }\r\nconst bookingButton = document.getElementById(\"resButton\"); //hämtar elemnt\r\nconst divMessage = document.getElementById(\"divMessage\");  //hämtar elemnt\r\nbookingButton.addEventListener(\"click\", function(e) { //vid clikc\r\n    e.preventDefault(); //hindrar default\r\n    saveBooking();\r\n})\r\n\r\nasync function saveBooking() { //funktion för att spara en bokning\r\n    \r\n    //hämtar element\r\n    let emailInput = document.getElementById(\"emailID\"); \r\n    let phoneInput = document.getElementById(\"phoneID\");\r\n    let firstNameInput = document.getElementById(\"firstNameID\");\r\n    let lastNameInput = document.getElementById(\"lastNameID\");\r\n    let tableInput = document.getElementById(\"tableID\");\r\n    let bookDateInput = document.getElementById(\"bookDateID\");\r\n\r\n    //hämtar värdena\r\n    let emailData = emailInput.value;  \r\n    let phoneData = phoneInput.value;  \r\n    let firstNameData = firstNameInput.value;  \r\n    let lastNameData = lastNameInput.value;  \r\n    let tableData = tableInput.value;\r\n    let bookDateData = new Date(bookDateInput.value);\r\n\r\n    bookDateData.toLocaleString(\"sv-SE\", { timeZone: \"Europe/Stockholm\" }); //sätter rätt tidzon\r\n\r\n\r\n    const bookingData = {  //definerar bookingData\r\n        email: emailData,\r\n        phone: phoneData,\r\n        firstName: firstNameData,\r\n        lastName: lastNameData,\r\n        numberGuests: tableData,\r\n        bookDate: bookDateData \r\n    };\r\n\r\n    try {\r\n        const respone = await fetch(url + \"/booking\", { //fetahcer /booking med Post förfrågan\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n\r\n            body: JSON.stringify(bookingData) //till string\r\n        })\r\n\r\n        if(respone.ok) { //om responsen är ok\r\n            divMessage.textContent = \"Tack för din bokning\"; //skriver ut\r\n            divMessage.style.display =\"block\";\r\n\r\n            //renser alla \r\n            emailInput.value = \"\";\r\n            phoneInput.value = \"\";\r\n            firstNameInput.value = \"\";\r\n            lastNameInput.value = \"\";\r\n            tableInput.value = \"\";\r\n            bookDateInput.value = \"\";\r\n        }\r\n\r\n    } catch (error) { //vid error\r\n        console.error( error);\r\n    }\r\n}\r\n\r\n\r\n\r\nconst sendButton = document.getElementById(\"sendButton\"); //hämtar element\r\nconst divMessage2 = document.getElementById(\"divMessage2\"); //hämtar element\r\n\r\nsendButton.addEventListener(\"click\", function(e) { //vid klick\r\n    e.preventDefault(); //hindrarv default\r\n    saveReview(); //kör \r\n})\r\n\r\nasync function saveReview() { //saveReview funktion\r\n    \r\n    let nameInput = document.getElementById(\"fullNameID\"); //hämtar element\r\n    let messageInput = document.getElementById(\"messageID\"); //hämtar element\r\n    \r\n\r\n    let nameData = nameInput.value;    \r\n    let messageData = messageInput.value;  \r\n\r\n    let ratingInput = document.getElementsByClassName(\"ratingClass\"); //hämtar element med class då det är flera\r\n\r\n    let ratingData; //sätter ratingData\r\n    for (const ratings of ratingInput) { //kör en for loop\r\n        if (ratings.checked) { //kollar om de är markerat\r\n            ratingData = ratings.value; //sätter datan til värdset borende på antal radio knappar markerade\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n    if (!nameData || !ratingData || !messageData) { //om dem är tomma\r\n        divMessage2.textContent = \"Alla fält måste fyllas i!\"; //skrivs ut\r\n        divMessage2.style.display = \"block\";\r\n        divMessage2.style.color = \"orange\";\r\n        return;\r\n    }\r\n\r\n\r\n    const reviewData = { //definerar reviewData\r\n        name: nameData,\r\n        rating: ratingData,\r\n        message: messageData\r\n    };\r\n\r\n    try {\r\n        const respone = await fetch(url + \"/review\", { //fetchar /review med POST metod\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n\r\n            body: JSON.stringify(reviewData) //till string\r\n        })\r\n\r\n        if(respone.ok) { //om repsonse är ok. \r\n            divMessage2.textContent = \"Tack för din recension\"; //skriver ut\r\n            divMessage2.style.display =\"block\";\r\n\r\n            nameInput.value = \"\"; //rensar\r\n            messageInput.value = \"\";  //rensar\r\n\r\n            for (const rating of ratingInput) {  //rensar radiknapparna\r\n                rating.checked = false; //ingen i bockad\r\n            }\r\n\r\n        }\r\n\r\n    } catch (error) { //vid error\r\n        console.error( error);\r\n    }\r\n\r\n    getReview() //kör getReview\r\n}\r\n\r\nasync function getReview() { //funktion getReview\r\n    \r\n    //console.log(\"getReview\")\r\n        try {\r\n\r\n            const response = await fetch(url + \"/review\", { //fetchar /review med en GET\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            });\r\n\r\n            const data = await response.json(); //sätter data\r\n            const reviewsDiv = document.getElementById(\"reviewsDiv\"); //hämtar element\r\n\r\n            reviewsDiv.innerHTML = \"\"; //rensar\r\n\r\n            const last2Reviews = data.slice(-2).reverse(); //väljer så endast 2 senaste i datan hämtas. \r\n\r\n            last2Reviews.forEach(review => { //kör en foreatchloop för recensioner endast av de 2 senaste i listan som skapades innan. \r\n                \r\n                const reviewUl = document.createElement(\"ul\"); //skapar UL\r\n                \r\n                const nameLi = document.createElement(\"li\"); //skapar LI samt sätter inehåll.\r\n                nameLi.textContent =  review.name;\r\n                nameLi.style.color = \"orange\";  //styling\r\n\r\n                const ratingLi = document.createElement(\"li\"); //skapar LI samt sätter inehåll.\r\n                ratingLi.textContent =  \"Betyg: \" + review.rating +\"/5\"; \r\n                ratingLi.style.color = \"yellow\";   //styling\r\n\r\n                const messageLi = document.createElement(\"li\"); //skapar LI samt sätter inehåll.\r\n                messageLi.textContent =  review.message;\r\n                \r\n\r\n                //lägger till i reviewUl sen i reviewDiv\r\n                reviewUl.appendChild(nameLi);\r\n                reviewUl.appendChild(ratingLi);\r\n                reviewUl.appendChild(messageLi);\r\n                \r\n                reviewsDiv.appendChild(reviewUl);\r\n            }\r\n        )\r\n            \r\n            \r\n            \r\n        } catch (error) { //vid error\r\n            console.error(error);\r\n        } \r\n     \r\n}\r\n"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}